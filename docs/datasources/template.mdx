---
description: |
  The proxmox template datasource is able to get info about existing guests
  from Proxmox cluster and return VM ID of a single guest that matches all
  specified filters. This ID can later be used in the 'clone' builder to
  select template.
page_title: Proxmox Clone - Datasources
sidebar_title: proxmox-template
nav_title: Template
---

# Proxmox Template Datasource

Type: `proxmox-template`
Artifact BuilderId: `proxmox.template`

The `proxmox-template` datasource is able to get info about existing guests
from [Proxmox](https://www.proxmox.com/en/proxmox-ve) cluster and return VM
ID of a single guest that matches all specified filters. This ID can later
be used in the `proxmox-clone` builder to select template.

## Configuration Reference

@include 'datasource/proxmox/Config.mdx'

## Optional:

@include 'datasource/proxmox/Config-not-required.mdx'

## Output:

@include 'datasource/proxmox/DatasourceOutput.mdx'

## Example Usage

This is a very basic example which connects to local PVE host, finds the latest
guest which name matches the regex `image-.*` and which type is `template`. The
ID is then printed to console as output variable.

```hcl
data "proxmox-template" "default" {
    proxmox_url = "https://localhost:8006/api2/json"
    insecure_skip_tls_verify = true
    username = "root@pam"
    password = "password"
    name_regex = "image-.*"
    template = true
    latest   = true
}

locals {
  vm_id = data.proxmox-template.default.vm_id
}

source "null" "basic-example" {
    communicator = "none"
}

build {
  sources = [
    "source.null.basic-example"
  ]

  provisioner "shell-local" {
    inline = [
      "echo vm_id: ${local.vm_id}",
    ]
  }
}
```
